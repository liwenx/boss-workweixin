webpackJsonp([1],{"/PSl":function(e,t){},"1kLg":function(e,t){},"3cj4":function(e,t){},"9n10":function(e,t){},Gj0n:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("UhgQ");var n,r=a("zHxO"),s=a.n(r),o=a("MVMM"),l=a("9rMa"),i=a("a3Yh"),c=a.n(i),u=(n={},c()(n,"SET_USER",function(e,t){e.userInfo=t}),c()(n,"CHANGE_NAVIGATION",function(e){e.isCollapse=!e.isCollapse}),n),p=a("mUbh"),d=a.n(p);o.default.use(l.a);var m=new l.a.Store({state:{userInfo:null,isCollapse:!1},mutations:u,actions:d.a,getters:{user:function(e){return e.user}}}),h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var g=a("vSla")({name:"App"},h,!1,function(e){a("1kLg")},null,null).exports,f=a("zO6J"),v=a("4YfN"),b=a.n(v),_={computed:b()({},Object(l.c)(["isCollapse"]))},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-aside",{attrs:{width:"auto"}},[a("div",{staticClass:"logo"},[e._v(e._s(this.isCollapse?null:"哗啦啦老板通"))]),e._v(" "),a("el-menu",{staticClass:"el-menu-vertical",attrs:{router:"","default-active":"/home/advertise","background-color":"#2f4050","text-color":"#fff","active-text-color":"#ffd04b",collapse:e.isCollapse}},[a("el-menu-item",{attrs:{index:"/home/advertise"}},[a("i",{staticClass:"el-icon-news"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("广告统计")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/home/feedback"}},[a("i",{staticClass:"el-icon-edit-outline"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("吐槽反馈")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/home/setgroup"}},[a("i",{staticClass:"el-icon-setting"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("集团设置")])]),e._v(" "),a("el-menu-item",{attrs:{index:"/home/datasource"}},[a("i",{staticClass:"el-icon-refresh"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("数据源切换")])])],1)],1)},staticRenderFns:[]};var T=a("vSla")(_,y,!1,function(e){a("jTZy")},"data-v-79d99acf",null).exports,C={computed:b()({},Object(l.c)(["userInfo"])),methods:b()({},Object(l.b)({changeNavigation:"CHANGE_NAVIGATION"}),{handleNavCollapse:function(){this.changeNavigation()}})},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-header",[a("el-button",{staticClass:"nav-btn",attrs:{icon:"el-icon-menu",size:"mini"},on:{click:e.handleNavCollapse}}),e._v(" "),a("div",{staticClass:"user-operation"},[a("el-dropdown",[a("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("查看")]),e._v(" "),a("el-dropdown-item",[e._v("新增")]),e._v(" "),a("el-dropdown-item",[e._v("删除")])],1)],1),e._v(" "),a("span",[e._v(e._s(this.userInfo?this.userInfo.name:"无名氏"))])],1)],1)},staticRenderFns:[]};var D={components:{Navigation:T,CommonHeader:a("vSla")(C,I,!1,function(e){a("nmU8")},"data-v-5ce8761f",null).exports},computed:b()({},Object(l.c)(["userInfo"]))},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticClass:"container"},[t("navigation"),this._v(" "),t("el-container",{staticClass:"container-right"},[t("common-header"),this._v(" "),t("el-main",{staticClass:"main-content"},[t("router-view")],1)],1)],1)},staticRenderFns:[]};var P=a("vSla")(D,k,!1,function(e){a("hgVI")},"data-v-0c5f53c6",null).exports,w=a("aozt"),x=a.n(w),S=a("6iV/"),N=a.n(S),F={name:"login",data:function(){return{phoneNumber:"",verify:"",alertText:"",phoneFlag:!0}},methods:b()({},Object(l.b)(["SET_USER"]),{handleInputBlur:function(){this.alertText="",/^1\d{10}$/.test(this.phoneNumber)?this.phoneFlag=!0:(this.alertText="客官，手机号不正确，重新输入吧~",this.phoneFlag=!1)},handleVerifyClick:function(){var e=this;this.handleInputBlur(),this.phoneFlag&&x.a.get("/sms/code",{params:{phoneNumber:this.phoneNumber}}).then(function(t){t&&t.data&&(e.alertText=t.data.resultMsg||t.data.msg)}).catch(function(){throw e.alertText="出错啦，刷新重试一下吧~",new Error})},handleLogin:function(){var e=this;this.handleInputBlur(),this.phoneFlag&&x.a.post("/sms/verify",N.a.stringify({code:this.verify,tel:this.phoneNumber})).then(function(t){t&&t.data&&("000"===t.data.code&&t.data.success?(e.SET_USER({name:e.phoneNumber}),e.$router.push("/home/advertise")):e.alertText=t.data.resultMsg||t.data.msg)}).catch(function(){e.alertText="出错啦，刷新重试一下吧~"})}})},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"login"},[a("h1",{staticClass:"title"},[e._v("哗啦啦老板通")]),e._v(" "),a("el-input",{staticClass:"phone",attrs:{placeholder:"手机号"},on:{blur:e.handleInputBlur},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),e._v(" "),a("el-row",{staticClass:"verify-box",attrs:{gutter:25}},[a("el-col",{attrs:{span:15}},[a("el-input",{staticClass:"verify",attrs:{placeholder:"验证码"},model:{value:e.verify,callback:function(t){e.verify=t},expression:"verify"}})],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-button",{staticClass:"verify-btn",on:{click:e.handleVerifyClick}},[e._v("获取验证码")])],1)],1),e._v(" "),a("div",{staticClass:"login-btn-box"},[a("h4",{staticClass:"alert-text"},[e._v(e._s(e.alertText))]),e._v(" "),a("el-button",{staticClass:"login-btn",on:{click:e.handleLogin}},[e._v("登录")])],1)],1)])},staticRenderFns:[]};var $=a("vSla")(F,E,!1,function(e){a("3cj4")},"data-v-5c71d5bc",null).exports,q={data:function(){return{tableData:null,pageQuery:{pageNo:1,pageSize:15,pageCount:0,totalSize:0}}},methods:{handleCurrentChange:function(e){this.getPageData(e)},getPageData:function(e){var t=this;x.a.post("/management/advertise/statistics",N.a.stringify({pageNo:e||this.pageQuery.pageNo,pageSize:this.pageQuery.pageSize})).then(function(e){if(e.data.data){var a=e.data.data;a.infoList&&(t.tableData=a.infoList),a.pageInfo&&(t.pageQuery=a.pageInfo)}}).catch(function(){throw new Error})}},created:function(){this.getPageData()}},B={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-container"},[t("el-table",{staticStyle:{"border-radius":"10px"},attrs:{data:this.tableData,border:""}},[t("el-table-column",{attrs:{prop:"title",label:"广告标题"}}),this._v(" "),t("el-table-column",{attrs:{prop:"pv",label:"PV"}}),this._v(" "),t("el-table-column",{attrs:{prop:"uv",label:"UV"}}),this._v(" "),t("el-table-column",{attrs:{prop:"statisticsDate",label:"统计日期"}})],1),this._v(" "),t("el-pagination",{attrs:{background:"",layout:"prev, pager, next, jumper","page-count":parseInt(this.pageQuery.pageCount),"current-page":parseInt(this.pageQuery.pageNo)},on:{"current-change":this.handleCurrentChange}})],1)},staticRenderFns:[]};var Q=a("vSla")(q,B,!1,function(e){a("/PSl")},"data-v-e08e5d50",null).exports,j={data:function(){return{groupID:0}},methods:{getGroup:function(){var e=this;x.a.post("/management/group/getGroupID",N.a.stringify({})).then(function(t){"000"===t.data.resultCode?t.data.data?e.groupID=t.data.data:e.$message({message:"返回内容为空",type:"warning"}):e.$message.error(t.msg||"请求失败")}).catch(function(){throw new Error})},setGroup:function(){var e=this;x.a.post("/management/group/setGroupID",N.a.stringify({groupID:this.groupID})).then(function(t){"000"===t.data.code?e.$message({message:"设置成功",type:"success"}):e.$message.error(t.msg||"设置失败")}).catch(function(){throw new Error})}},created:function(){this.getGroup()}},V={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-container"},[a("el-input",{staticClass:"input",model:{value:e.groupID,callback:function(t){e.groupID=t},expression:"groupID"}}),e._v(" "),a("el-button",{on:{click:function(t){e.setGroup()}}},[e._v("设置")])],1)},staticRenderFns:[]};var M=a("vSla")(j,V,!1,function(e){a("qkdj")},"data-v-63a8d946",null).exports,R={data:function(){return{tableData:null,pageQuery:{pageNo:1,pageSize:15,pageCount:0,totalSize:0},dialogFeedVisible:!1,feedbackInfo:"",feedbackParam:{itemID:"",groupID:"",userID:"",title:"吐槽反馈",msg:""},tucaoMessage:"",queryTableParams:{mobileType:"0",version:"",groupIDParam:"0",channel:"0"}}},methods:{handleCurrentChange:function(e){this.getPageData(e)},getPageData:function(e){var t=this;x.a.post("/management/feedback/queryFeedBackByPage",N.a.stringify({pageNo:e||this.pageQuery.pageNo,pageSize:this.pageQuery.pageSize,mobileType:this.queryTableParams.mobileType,version:this.queryTableParams.version,groupIDParam:this.queryTableParams.groupIDParam,channel:this.queryTableParams.channel})).then(function(e){if(e.data.data){var a=e.data.data;a.feedBackDetailModelList&&(t.tableData=a.feedBackDetailModelList),a.pageInfo&&(t.pageQuery=a.pageInfo)}}).catch(function(){throw new Error})},getFeedBackBtnName:function(e){return e.resultNum&&e.resultNum>0?"再次反馈":"反馈"},clearQueryParams:function(){this.queryTableParams.mobileType="0",this.queryTableParams.version="",this.queryTableParams.groupIDParam="0",this.queryTableParams.channel="0"},openFeedDialog:function(e){this.dialogFeedVisible=!0,this.feedbackParam.itemID=e.itemID,this.feedbackParam.groupID=e.groupID,this.feedbackParam.userID=e.userID,this.feedbackParam.msg="",this.tucaoMessage=e.message},reply:function(){var e=this;x.a.post("/management/feedback/insertFeedBackInfo",N.a.stringify(this.feedbackParam)).then(function(t){t.data.resultMsg&&"success"===t.data.resultMsg&&(e.$message({message:t.data.data||"接口请求成功，无返回消息，联系开发",type:"success"}),e.dialogFeedVisible=!1)}).catch(function(){throw new Error})}},created:function(){this.getPageData()}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"集团ID"}},[a("el-input",{attrs:{placeholder:"集团ID"},model:{value:e.queryTableParams.groupIDParam,callback:function(t){e.$set(e.queryTableParams,"groupIDParam",t)},expression:"queryTableParams.groupIDParam"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机类型"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.queryTableParams.mobileType,callback:function(t){e.$set(e.queryTableParams,"mobileType",t)},expression:"queryTableParams.mobileType"}},[a("el-option",{attrs:{selected:"selected",label:"全部",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"Android",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"iOS",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"版本号"}},[a("el-input",{attrs:{placeholder:"版本号"},model:{value:e.queryTableParams.version,callback:function(t){e.$set(e.queryTableParams,"version",t)},expression:"queryTableParams.version"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"反馈渠道"}},[a("el-select",{attrs:{placeholder:""},model:{value:e.queryTableParams.channel,callback:function(t){e.$set(e.queryTableParams,"channel",t)},expression:"queryTableParams.channel"}},[a("el-option",{attrs:{selected:"selected",label:"全部",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"首页反馈",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"消息中心反馈",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"经营分析反馈",value:"3"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getPageData()}}},[e._v("查询")])],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:function(t){e.clearQueryParams()}}},[e._v("清空")])],1)],1),e._v(" "),a("el-table",{staticStyle:{"border-radius":"10px"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"groupID",label:"集团ID",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"identity",label:"反馈者身份",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"connectionInfo",label:"联系方式",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobileType",label:"来源",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"version",label:"版本",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channel",label:"反馈渠道",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"message",label:"反馈内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"反馈日期",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){e.openFeedDialog(t.row)}}},[e._v(e._s(e.getFeedBackBtnName(t.row)))])]}}])})],1),e._v(" "),a("el-dialog",{staticClass:"feed-dialog",attrs:{title:"反馈",visible:e.dialogFeedVisible},on:{"update:visible":function(t){e.dialogFeedVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"吐槽内容：","label-width":"100px"}},[a("span",[e._v(e._s(e.tucaoMessage))])]),e._v(" "),a("el-form-item",{attrs:{label:"反馈内容：","label-width":"100px"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.feedbackParam.msg,callback:function(t){e.$set(e.feedbackParam,"msg",t)},expression:"feedbackParam.msg"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFeedVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.reply()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, jumper","page-count":parseInt(this.pageQuery.pageCount),"current-page":parseInt(this.pageQuery.pageNo)},on:{"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var G=a("vSla")(R,z,!1,function(e){a("Rf9s")},"data-v-3f8b513b",null).exports,A={data:function(){return{datasourceType:"0"}},methods:{getDatasource:function(){var e=this;x.a.post("/management/group/getDataSourceType",N.a.stringify({})).then(function(t){"000"===t.data.resultCode?t.data.data?e.datasourceType=t.data.data.toString():e.$message({message:"返回内容为空",type:"warning"}):e.$message.error(t.msg||"请求失败")}).catch(function(){throw new Error})},setDatasource:function(){var e=this;x.a.post("/management/group/setDataSourceType",N.a.stringify({datasourceType:this.datasourceType})).then(function(t){"000"===t.data.code?e.$message({message:"数据源切换成功",type:"success"}):e.$message.error(t.data.msg||"数据源切换失败")}).catch(function(){throw new Error})}},created:function(){this.getDatasource()}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-container"},[a("div",[a("div",{staticStyle:{display:"inline"}},[a("el-radio",{staticStyle:{background:"white"},attrs:{label:"1",border:""},model:{value:e.datasourceType,callback:function(t){e.datasourceType=t},expression:"datasourceType"}},[e._v("TiDB")]),e._v(" "),a("el-radio",{staticStyle:{background:"white"},attrs:{label:"2",border:""},model:{value:e.datasourceType,callback:function(t){e.datasourceType=t},expression:"datasourceType"}},[e._v("MySQL")])],1),e._v(" "),a("el-button",{on:{click:function(t){e.setDatasource()}}},[e._v("切换")]),e._v(" "),a("span",[e._v("非开发人员请勿点击此按钮！！！")])],1)])},staticRenderFns:[]};var L=a("vSla")(A,O,!1,function(e){a("Gj0n")},"data-v-c9a426e0",null).exports;o.default.use(f.a);var U=new f.a({mode:"history",base:"/manage",routes:[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:$},{path:"/home",name:"Home",component:P,children:[{path:"advertise",name:"Advertise",component:Q},{path:"setgroup",name:"SetGroup",component:M},{path:"feedback",name:"FeedBack",component:G},{path:"datasource",name:"DataSource",component:L}]}]});a("9n10"),a("PBss");o.default.config.productionTip=!1,o.default.use(s.a),new o.default({el:"#app",router:U,store:m,components:{App:g},template:"<App/>"})},PBss:function(e,t){},Rf9s:function(e,t){},UhgQ:function(e,t){},hgVI:function(e,t){},jTZy:function(e,t){},mUbh:function(e,t){},nmU8:function(e,t){},qkdj:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2e54f4fd20aeddac0748.js.map